{"remainingRequest":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面收纳盒\\codetext\\kjsuper\\src\\views\\cart\\childComps\\CartBottonBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\src\\views\\cart\\childComps\\CartBottonBar.vue","mtime":1617451697727},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQ2hlY2tCdXR0b24gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jb250ZW50L2NoZWNrQnV0dG9uL0NoZWNrQnV0dG9uJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOyAvL+WPr+S7peeUqC4uLiDku6Pmm78gdnVleOS4reeahGdldHRlcnMuanMg5pig5bCE5oiQ5bGA6YOo6K6h566X5bGe5oCnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NhcnRCb3R0b25CYXInLAogIGNvbXBvbmVudHM6IHsKICAgIENoZWNrQnV0dG9uOiBDaGVja0J1dHRvbgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOWQiOiuoQogICAgdG90YWxQcmljZTogZnVuY3Rpb24gdG90YWxQcmljZSgpIHsKICAgICAgcmV0dXJuICLvv6UiICsgdGhpcy4kc3RvcmUuc3RhdGUuY2FydExpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uY2hlY2tlZDsKICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChwcmVWYWx1ZSwgaXRlbSkgewogICAgICAgIHJldHVybiBwcmVWYWx1ZSArIGl0ZW0ucHJpY2UgKiBpdGVtLmNvdW50OwogICAgICB9LCAwKS50b0ZpeGVkKDIpOwogICAgfSwKICAgIGNoZWNrTGVuZ3RoOiBmdW5jdGlvbiBjaGVja0xlbmd0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNhcnRMaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmNoZWNrZWQ7CiAgICAgIH0pLmxlbmd0aDsKICAgIH0sCiAgICBpc1NlbGVjdEFsbDogZnVuY3Rpb24gaXNTZWxlY3RBbGwoKSB7CiAgICAgIC8vIOWOn+eCuSDpgInkuK0g5ZKMIOacqumAieS4rSDnirbmgIEKICAgICAgLy8gMOWPluWPjeS4unRydWUgID4wIOWPluWPjeS4umZhbHNlCiAgICAgIC8vIOWFiOS7juaVtOS4quaVsOe7hOS4rSDnrZvpgInmnInmsqHmnInmsqHooqvpgInkuK3nmoQg77yM5pyJ55qE6K+dIGxlbmd0aOmVv+W6puS8muWKoDEgCiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdC5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTsgLy8gMSDkvb/nlKhmaWx0ZXIKICAgICAgLy8gcmV0dXJuICEodGhpcy4kc3RvcmUuc3RhdGUuY2FydExpc3QuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0uY2hlY2tlZCkubGVuZ3RoKQogICAgICAvLyAyIOS9v+eUqGZpbmQKCiAgICAgIHJldHVybiAhdGhpcy4kc3RvcmUuc3RhdGUuY2FydExpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAhaXRlbS5jaGVja2VkOwogICAgICB9KTsgLy8gMyDkvb/nlKjkvr/liKlmb3IKICAgICAgLy8gZm9yKGxldCBpdGVtIG9mIHRoaXMuJHN0b3JlLnN0YXRlLmNhcnRMaXN0KXsKICAgICAgLy8gICBpZighaXRlbS5jaGVja2VkKXsKICAgICAgLy8gICAgIHJldHVybiBmYWxzZQogICAgICAvLyAgIH0KICAgICAgLy8gfQogICAgICAvLyByZXR1cm4gdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tDaWxjazogZnVuY3Rpb24gY2hlY2tDaWxjaygpIHsKICAgICAgaWYgKHRoaXMuaXNTZWxlY3RBbGwpIHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY2FydExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uY2hlY2tlZCA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjYWxjQ2xpY2s6IGZ1bmN0aW9uIGNhbGNDbGljaygpIHsKICAgICAgaWYgKCF0aGlzLmlzU2VsZWN0QWxsKSB7CiAgICAgICAgdGhpcy4kdG9hc3Quc2hvdygn6K+36YCJ5oup6LSt5Lmw55qE5ZWG5ZOBJywgMjAwMCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["CartBottonBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAkBA,OAAA,WAAA,MAAA,qDAAA;AACA,SAAA,UAAA,QAAA,MAAA,C,CAAA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,UAFA,wBAEA;AACA,aAAA,MAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,OAAA;AACA,OAFA,EAEA,MAFA,CAEA,UAAA,QAAA,EAAA,IAAA,EAAA;AACA,eAAA,QAAA,GAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AACA,OAJA,EAIA,CAJA,EAIA,OAJA,CAIA,CAJA,CAAA;AAMA,KATA;AAUA,IAAA,WAVA,yBAUA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,OAAA;AAAA,OAAA,EAAA,MAAA;AACA,KAZA;AAaA,IAAA,WAbA,yBAaA;AACA;AACA;AACA;AAEA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,KAAA,CAAA,EAAA,OAAA,KAAA,CALA,CAOA;AACA;AAEA;;AACA,aAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,eAAA,CAAA,IAAA,CAAA,OAAA;AAAA,OAAA,CAAA,CAXA,CAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA,GALA;AAwCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,KAAA,WAAA,EAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,OAAA,GAAA,KAAA;AAAA,SAAA;AACA,OAFA,MAEA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,OAAA,GAAA,IAAA;AAAA,SAAA;AACA;AACA,KAPA;AAQA,IAAA,SARA,uBAQA;AACA,UAAA,CAAA,KAAA,WAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,UAAA,EAAA,IAAA;AACA;AACA;AAZA;AAxCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"bottom-bar\">\r\n    <div class=\"check-content\">\r\n      <check-button class=\"check-button\" :is-checked=\"isSelectAll\" @click.native=\"checkCilck\"></check-button>\r\n      <span>全选</span>\r\n    </div>\r\n\r\n    <div class=\"price\">\r\n      合计:{{totalPrice}}\r\n    </div>\r\n\r\n    <div class=\"calculate\" @click=\"calcClick\">\r\n      去计算({{checkLength}})\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CheckButton from '../../../components/content/checkButton/CheckButton'\r\nimport { mapGetters } from 'vuex'   //可以用... 代替 vuex中的getters.js 映射成局部计算属性\r\nexport default {\r\n  name:'CartBottonBar',\r\n  components:{\r\n    CheckButton\r\n  },\r\n  computed: {\r\n    // 合计\r\n    totalPrice(){\r\n      return \"￥\" + this.$store.state.cartList.filter(item => {\r\n        return item.checked\r\n      }).reduce((preValue,item) => {\r\n        return preValue + item.price * item.count\r\n      },0).toFixed(2)\r\n      \r\n    },\r\n    checkLength(){\r\n      return this.$store.state.cartList.filter(item => item.checked).length\r\n    },\r\n    isSelectAll(){\r\n      // 原点 选中 和 未选中 状态\r\n      // 0取反为true  >0 取反为false\r\n      // 先从整个数组中 筛选有没有没被选中的 ，有的话 length长度会加1 \r\n\r\n      if(this.$store.state.cartList.length === 0) return false\r\n\r\n      // 1 使用filter\r\n      // return !(this.$store.state.cartList.filter(item => !item.checked).length)\r\n\r\n      // 2 使用find\r\n      return !this.$store.state.cartList.find(item => !item.checked)\r\n\r\n      // 3 使用便利for\r\n      // for(let item of this.$store.state.cartList){\r\n      //   if(!item.checked){\r\n      //     return false\r\n      //   }\r\n      // }\r\n      // return true\r\n    }\r\n  },\r\n  methods: {\r\n    checkCilck(){\r\n      if(this.isSelectAll){\r\n        this.$store.state.cartList.forEach(item => item.checked = false)\r\n      }else{\r\n        this.$store.state.cartList.forEach(item => item.checked = true)\r\n      }\r\n    },\r\n    calcClick(){\r\n      if(!this.isSelectAll){\r\n        this.$toast.show('请选择购买的商品',2000)\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.bottom-bar{\r\n  border-top:solid 1px rgb(224, 224, 224);\r\n  height: 40px;\r\n  position: relative;\r\n  background-color: rgb(242, 242, 242);\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.check-content{\r\n  display: flex;\r\n  align-items: center;\r\n  height: 40px;\r\n  margin-left: 10px;\r\n}\r\n.check-button{\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.price{\r\n  margin-left: 20px;\r\n}\r\n\r\n.calculate{\r\n  background-color: rgb(255, 129, 152);\r\n  height: 100%;\r\n  width: 90px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color:white;\r\n  position: absolute;\r\n  right: 0;\r\n\r\n}\r\n</style>"],"sourceRoot":"src/views/cart/childComps"}]}