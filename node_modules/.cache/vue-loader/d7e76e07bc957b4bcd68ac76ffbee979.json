{"remainingRequest":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面收纳盒\\codetext\\kjsuper\\src\\views\\cart\\childComps\\CartBottonBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\src\\views\\cart\\childComps\\CartBottonBar.vue","mtime":1617451697727},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ2hlY2tCdXR0b24gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jb250ZW50L2NoZWNrQnV0dG9uL0NoZWNrQnV0dG9uJw0KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnICAgLy/lj6/ku6XnlKguLi4g5Luj5pu/IHZ1ZXjkuK3nmoRnZXR0ZXJzLmpzIOaYoOWwhOaIkOWxgOmDqOiuoeeul+WxnuaApw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOidDYXJ0Qm90dG9uQmFyJywNCiAgY29tcG9uZW50czp7DQogICAgQ2hlY2tCdXR0b24NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAvLyDlkIjorqENCiAgICB0b3RhbFByaWNlKCl7DQogICAgICByZXR1cm4gIu+/pSIgKyB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdC5maWx0ZXIoaXRlbSA9PiB7DQogICAgICAgIHJldHVybiBpdGVtLmNoZWNrZWQNCiAgICAgIH0pLnJlZHVjZSgocHJlVmFsdWUsaXRlbSkgPT4gew0KICAgICAgICByZXR1cm4gcHJlVmFsdWUgKyBpdGVtLnByaWNlICogaXRlbS5jb3VudA0KICAgICAgfSwwKS50b0ZpeGVkKDIpDQogICAgICANCiAgICB9LA0KICAgIGNoZWNrTGVuZ3RoKCl7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY2FydExpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jaGVja2VkKS5sZW5ndGgNCiAgICB9LA0KICAgIGlzU2VsZWN0QWxsKCl7DQogICAgICAvLyDljp/ngrkg6YCJ5LitIOWSjCDmnKrpgInkuK0g54q25oCBDQogICAgICAvLyAw5Y+W5Y+N5Li6dHJ1ZSAgPjAg5Y+W5Y+N5Li6ZmFsc2UNCiAgICAgIC8vIOWFiOS7juaVtOS4quaVsOe7hOS4rSDnrZvpgInmnInmsqHmnInmsqHooqvpgInkuK3nmoQg77yM5pyJ55qE6K+dIGxlbmd0aOmVv+W6puS8muWKoDEgDQoNCiAgICAgIGlmKHRoaXMuJHN0b3JlLnN0YXRlLmNhcnRMaXN0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlDQoNCiAgICAgIC8vIDEg5L2/55SoZmlsdGVyDQogICAgICAvLyByZXR1cm4gISh0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdC5maWx0ZXIoaXRlbSA9PiAhaXRlbS5jaGVja2VkKS5sZW5ndGgpDQoNCiAgICAgIC8vIDIg5L2/55SoZmluZA0KICAgICAgcmV0dXJuICF0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdC5maW5kKGl0ZW0gPT4gIWl0ZW0uY2hlY2tlZCkNCg0KICAgICAgLy8gMyDkvb/nlKjkvr/liKlmb3INCiAgICAgIC8vIGZvcihsZXQgaXRlbSBvZiB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdCl7DQogICAgICAvLyAgIGlmKCFpdGVtLmNoZWNrZWQpew0KICAgICAgLy8gICAgIHJldHVybiBmYWxzZQ0KICAgICAgLy8gICB9DQogICAgICAvLyB9DQogICAgICAvLyByZXR1cm4gdHJ1ZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNoZWNrQ2lsY2soKXsNCiAgICAgIGlmKHRoaXMuaXNTZWxlY3RBbGwpew0KICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdC5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jaGVja2VkID0gZmFsc2UpDQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY2FydExpc3QuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2hlY2tlZCA9IHRydWUpDQogICAgICB9DQogICAgfSwNCiAgICBjYWxjQ2xpY2soKXsNCiAgICAgIGlmKCF0aGlzLmlzU2VsZWN0QWxsKXsNCiAgICAgICAgdGhpcy4kdG9hc3Quc2hvdygn6K+36YCJ5oup6LSt5Lmw55qE5ZWG5ZOBJywyMDAwKQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCn0NCg=="},{"version":3,"sources":["CartBottonBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CartBottonBar.vue","sourceRoot":"src/views/cart/childComps","sourcesContent":["<template>\r\n  <div class=\"bottom-bar\">\r\n    <div class=\"check-content\">\r\n      <check-button class=\"check-button\" :is-checked=\"isSelectAll\" @click.native=\"checkCilck\"></check-button>\r\n      <span>全选</span>\r\n    </div>\r\n\r\n    <div class=\"price\">\r\n      合计:{{totalPrice}}\r\n    </div>\r\n\r\n    <div class=\"calculate\" @click=\"calcClick\">\r\n      去计算({{checkLength}})\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CheckButton from '../../../components/content/checkButton/CheckButton'\r\nimport { mapGetters } from 'vuex'   //可以用... 代替 vuex中的getters.js 映射成局部计算属性\r\nexport default {\r\n  name:'CartBottonBar',\r\n  components:{\r\n    CheckButton\r\n  },\r\n  computed: {\r\n    // 合计\r\n    totalPrice(){\r\n      return \"￥\" + this.$store.state.cartList.filter(item => {\r\n        return item.checked\r\n      }).reduce((preValue,item) => {\r\n        return preValue + item.price * item.count\r\n      },0).toFixed(2)\r\n      \r\n    },\r\n    checkLength(){\r\n      return this.$store.state.cartList.filter(item => item.checked).length\r\n    },\r\n    isSelectAll(){\r\n      // 原点 选中 和 未选中 状态\r\n      // 0取反为true  >0 取反为false\r\n      // 先从整个数组中 筛选有没有没被选中的 ，有的话 length长度会加1 \r\n\r\n      if(this.$store.state.cartList.length === 0) return false\r\n\r\n      // 1 使用filter\r\n      // return !(this.$store.state.cartList.filter(item => !item.checked).length)\r\n\r\n      // 2 使用find\r\n      return !this.$store.state.cartList.find(item => !item.checked)\r\n\r\n      // 3 使用便利for\r\n      // for(let item of this.$store.state.cartList){\r\n      //   if(!item.checked){\r\n      //     return false\r\n      //   }\r\n      // }\r\n      // return true\r\n    }\r\n  },\r\n  methods: {\r\n    checkCilck(){\r\n      if(this.isSelectAll){\r\n        this.$store.state.cartList.forEach(item => item.checked = false)\r\n      }else{\r\n        this.$store.state.cartList.forEach(item => item.checked = true)\r\n      }\r\n    },\r\n    calcClick(){\r\n      if(!this.isSelectAll){\r\n        this.$toast.show('请选择购买的商品',2000)\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.bottom-bar{\r\n  border-top:solid 1px rgb(224, 224, 224);\r\n  height: 40px;\r\n  position: relative;\r\n  background-color: rgb(242, 242, 242);\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.check-content{\r\n  display: flex;\r\n  align-items: center;\r\n  height: 40px;\r\n  margin-left: 10px;\r\n}\r\n.check-button{\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.price{\r\n  margin-left: 20px;\r\n}\r\n\r\n.calculate{\r\n  background-color: rgb(255, 129, 152);\r\n  height: 100%;\r\n  width: 90px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color:white;\r\n  position: absolute;\r\n  right: 0;\r\n\r\n}\r\n</style>"]}]}